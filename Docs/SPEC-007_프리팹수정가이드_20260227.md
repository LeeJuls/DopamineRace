# SPEC-007 프리팹 수정 가이드

> 날짜: 2026-02-27
> Patch 후 Unity Editor에서 프리팹 위치/크기/텍스트를 수동 조정하는 가이드

## 수정 방법

1. **Project 창**에서 프리팹 파일 더블클릭 → Prefab Mode 진입
2. **Hierarchy**에서 자식 오브젝트 선택
3. **Inspector > RectTransform**에서 위치/크기 조정
4. 저장 (Ctrl+S)

> ⚠️ Prefab Mode에서 작업해야 합니다. Scene에서 인스턴스를 수정하면 프리팹에 반영되지 않습니다.

---

## 📁 Assets/Prefabs/UI/CharacterItem.prefab

캐릭터 목록의 **1행** (예: "인기1.천둥" 한 줄)

| 자식 오브젝트 | 역할 | 조정 포인트 |
|---|---|---|
| `IconContainer` | 캐릭터 아이콘 컨테이너 | 위치, 크기 (RectMask2D로 크롭) |
| `IconContainer/Icon` | 실제 아이콘 이미지 | 크기, preserveAspect |
| `ConditionIcon` | 컨디션 화살표 (↑↓→) | 위치, 크기 |
| `PopularityLabel` | "인기1." 인기순위 | 위치, fontSize |
| `NameLabel` | "천둥" 캐릭터 이름 | 위치, fontSize |
| `RecordLabel` | "0전 0승" 전적 | 위치, fontSize |
| `SecondLabel` | "2위 0회" 2착 횟수 | 위치, fontSize |
| **`OddsLabel`** ⭐ | "3.2x" 단승 배당률 배지 | 위치, fontSize, color |
| `BetOrderLabel` | 배팅 선택 시 "1착" 등 | 위치, 기본 비활성(SetActive=false) |

### OddsLabel 위치 참고
- 현재: `anchoredPosition (570, 10)`, `sizeDelta (70, 22)`
- 기존 2줄 레이아웃에 맞추려면 y값을 `30`(상단행) 또는 `-35`(하단행)로 조정
- color: 주황 `(1, 0.6, 0.2, 1)`

### CharacterItem 루트
- `LayoutElement.preferredHeight`: 행 높이 (기본 80)
- `LayoutElement.flexibleWidth`: 1 (부모 너비에 맞춤)

---

## 📁 Assets/Prefabs/UI/BettingPanel.prefab

배팅 화면 **전체 레이아웃**

### 최상위 패널 구조

```
BettingPanel (루트, 전체 화면)
├── TopArea              상단 (탭 + 배당률)
├── HideInfoToggle       "캐릭터 정보 안보기" 체크박스
├── CharacterListPanel   좌측 캐릭터 목록
├── TrackInfoPanel       하단 트랙 정보
├── CharacterInfoPopup   캐릭터 상세 팝업 (기본 비활성)
└── StartBtn             Start 버튼
```

### TopArea (상단 — 탭 + 배당률)
- **앵커**: `(0, 0.82) - (1, 1)` (상단 18%)

| 자식 | 역할 | 조정 |
|---|---|---|
| `RoundText` | "1 라운드" | 위치, fontSize |
| `TitleText` | "배팅 선택!" | 위치, fontSize |
| `BetTypeTabs` | 단승/연승/... 탭 | 위치, spacing |
| `BetDescText` | "1착 맞추기" 설명 | 위치 |
| `OddsArea` | 우측 배당률 영역 | 앵커 `(0.68,0.05)-(0.98,0.95)` |
| ↳ `OddsText` | "배당률: 3.2" | 위치, fontSize |
| ↳ `PointsLabel` | 획득 포인트 라벨 | 위치 |
| ↳ `PointsFormula` | "100 × 3.2 = 320" | 위치 |
| ↳ **`MyPointLabel`** ⭐ | "총점: 500" 보유포인트 | 위치, fontSize, color |

### CharacterListPanel (좌측 목록)
- **앵커**: `(0.01, 0.12) - (0.75, 0.80)`

| 자식 | 역할 | 조정 |
|---|---|---|
| `ScrollArea` | 스크롤 영역 | RectMask2D |
| ↳ `Content` | 아이템 컨테이너 | `VerticalLayoutGroup.spacing` |

### TrackInfoPanel (하단 트랙 정보)
- **앵커**: `(0.01, 0.01) - (0.75, 0.11)` (하단 10%)
- **레이아웃**: `HorizontalLayoutGroup` (spacing, padding 조절)

| 자식 | 역할 | 조정 |
|---|---|---|
| **`TrackInfoToggleBtn`** ⭐ | "◀ 닫기" 토글 버튼 | `LayoutElement.preferredWidth` (기본 70) |
| `TotalRoundLabel` | "총 5라운드 레이스" | `LayoutElement.preferredWidth` (기본 160) |
| `TrackNameLabel` | 트랙 이름 | `LayoutElement.preferredWidth` (기본 120) |
| `DistanceLabel` | "중거리: 9바퀴" | `LayoutElement.preferredWidth` (기본 130) |
| `TrackTypeLabel` | "기본" | `LayoutElement.preferredWidth` (기본 80) |
| **`TrackDescLabel`** ⭐ | 트랙 설명 텍스트 | `LayoutElement.flexibleWidth` = 1 (남은 공간) |

### CharacterInfoPopup (상세 팝업)
- **앵커**: `(0.31, 0.12) - (0.85, 0.78)` (기본 비활성)

| 자식 | 역할 | 조정 |
|---|---|---|
| `Layout1_TopArea` | 상단 28% — 경기기록 | 앵커 |
| ↳ `CharTypeLabel` | 캐릭터 타입 (도주/선행 등) | 위치 |
| ↳ `CloseBtn` | X 닫기 버튼 | 위치 |
| ↳ `RecentRecordHeader` | "최근 경기기록" 헤더 | 위치 |
| ↳ `ShortDistRow` | 단거리 전적 | 위치 |
| ↳ `MidDistRow` | 중거리 전적 | 위치 |
| ↳ `LongDistRow` | 장거리 전적 | 위치 |
| `Layout2_Left` | 중단 좌측 — 일러스트+승률 | 앵커 |
| ↳ `Illustration` | 캐릭터 일러스트 | 크기 |
| ↳ `WinRateBg/WinRateLabel` | 승률 표시 | 위치 |
| `Layout2_Right` | 중단 우측 — 레이더차트 | 앵커 |
| ↳ `RadarChartArea` | XCharts 레이더 | 크기 |
| `Layout3_Bottom` | 하단 13% — 스킬 | 앵커 |
| ↳ `SkillIcon` | 스킬 아이콘 | 크기 |
| ↳ `SkillDescLabel` | 스킬 설명 | 위치 |

### 기타 요소

| 자식 | 역할 | 앵커 |
|---|---|---|
| `HideInfoToggle` | 정보 안보기 토글 | `(0.85, 0.78)` 포인트 앵커 |
| `StartBtn` | Start 버튼 | `(0.82, 0.02)` 포인트 앵커, size `(180, 55)` |

---

## ⭐ SPEC-007 새 요소 요약

| 요소 | 프리팹 | Phase | 설명 |
|---|---|---|---|
| `OddsLabel` | CharacterItem | Phase 4 | 캐릭터별 단승 배당률 |
| `MyPointLabel` | BettingPanel > OddsArea | Phase 3 | 보유 포인트 표시 |
| `TrackInfoToggleBtn` | BettingPanel > TrackInfoPanel | Phase 2 | 트랙 정보 접기/펼치기 |
| `TrackDescLabel` | BettingPanel > TrackInfoPanel | Phase 2 | 트랙 설명 |
| `RecentRecordHeader` | BettingPanel > CharacterInfoPopup | Phase 5 | 경기기록 헤더 |
| `ShortDistRow` | BettingPanel > CharacterInfoPopup | Phase 5 | 단거리 전적 |
| `MidDistRow` | BettingPanel > CharacterInfoPopup | Phase 5 | 중거리 전적 |
| `LongDistRow` | BettingPanel > CharacterInfoPopup | Phase 5 | 장거리 전적 |

---

## 주의사항

- **절대 `Create Betting UI Prefabs` 사용 금지** — 수동 수정 내용이 모두 삭제됨
- **`Patch Betting UI Prefabs (Safe)`만 사용** — 없는 요소만 추가, 기존 수정 유지
- Patch를 다시 돌리면 위치 교정이 재적용됨 (수동 배치 후에는 주의)
