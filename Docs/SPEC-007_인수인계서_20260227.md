# SPEC-007 인수인계서 — 새 세션용

> 작성: 2026-02-27
> 목적: 새 Claude Code 세션에서 바로 작업을 이어받기 위한 컨텍스트

---

## 1. 현재 상태 요약

### SPEC-007 배팅 UI 개선
- **Phase 1~5**: 코드 구현 완료 ✅
- **Phase 6 QA**: 통과 ✅
- **프리팹 패치**: 요소 추가 + 위치 교정 완료 ✅
- **프리팹 수동 디자인**: 오너/UI 디자이너가 Unity Editor에서 진행 필요 ⏳

### 추가 수정 완료
- F1 RaceDebug 토글: 수정 완료 ✅
- enableRaceDebug 기본 OFF: 수정 완료 ✅
- PatchPrefabs 강화: OddsLabel + MyPointLabel + 위치 교정 ✅
- 확인 다이얼로그: Create/Patch 모두 추가 ✅

### MCP 연동
- uv 설치 완료, `.mcp.json` 생성 완료
- 새 세션에서 자동 연결됨 (Unity 실행 상태 필요)

---

## 2. 핵심 파일 위치

| 파일 | 역할 |
|------|------|
| `CLAUDE.md` | 프로젝트 규칙 (필독) |
| `Docs/MEMORY.md` | 기술 문서 (아키텍처, 규칙) |
| `Docs/specs/SPEC-007_배팅UI개선_명세서_20260227.md` | 기획 명세서 |
| `Docs/SPEC-007_프리팹수정가이드_20260227.md` | 프리팹 수동 수정 가이드 |
| `Docs/history/SPEC-007_배팅UI구현_히스토리_20260227.md` | 구현 히스토리 |
| `.mcp.json` | MCP 연결 설정 |

---

## 3. 아키텍처 주의사항

### 프리팹 시스템
- **절대 금지**: `DopamineRace > Create Betting UI Prefabs` (기존 작업 삭제)
- **안전 패치**: `DopamineRace > Patch Betting UI Prefabs (Safe)` (없는 요소만 추가)
- PatchPrefabs()는 위치 교정도 수행 → 수동 배치 후 다시 돌리면 리셋될 수 있음

### ScriptableObject (.asset)
- 코드 기본값 변경은 기존 .asset에 반영 안 됨
- .asset 파일을 직접 수정해야 함

### SceneBootstrapper
- partial class: Core, Betting, Racing, Result, Finish, Leaderboard, Utilities
- 배팅 UI 관련은 `SceneBootstrapper.Betting.cs`

### RaceDebug
- `RaceDebugOverlay` 항상 생성, `showDebug` 초기값은 `GameSettings.enableRaceDebug`
- F1 = 토글, F2 = 간략/상세, F3 = 라운드 순회

---

## 4. Git 상태

- 브랜치: `main`
- origin/main 대비 17커밋 ahead (push 완료 시)
- 워크트리 `claude/reverent-bose` → main 머지 완료

### 커밋 히스토리 (SPEC-007 관련)
```
2180db5 [C] fix: PatchPrefabs에 레이아웃 위치 교정 추가
11c0a2b [C] fix: RaceDebug 항상 생성 — F1 토글 가능하도록 변경
e8dd9a7 [C] fix: PatchPrefabs()에 CharacterItem OddsLabel + MyPointLabel 패치 추가
5887643 [C] Create Betting UI Prefabs도 실행 전 확인 다이얼로그 추가
d197e1a [C] Patch Prefabs 실행 전 확인 다이얼로그 추가
eaf073b [C] Merge claude/reverent-bose → main
d1f9a7a [C] feat: Phase 4 배당률 배지 항상 표시
f3455b1 [C] feat: Phase 3 My Point / Get Point UI
1510a78 [C] feat: Phase 2 트랙 정보 패널 재설계
87c5636 [C] feat: Phase 1-B CharacterRecord 거리별 누적 집계
e2a8632 [C] feat: Phase 1-A TrackType 확장 (E_Snow, E_Rain)
```

---

## 5. 다음 작업 후보

1. **프리팹 디자인 수정** — 오너/UI 디자이너가 Unity Editor에서 진행
2. **MCP 연결 테스트** — 새 세션에서 `execute_csharp_script_in_unity_editor` 도구 확인
3. **추가 기능** — 오너 지시에 따라
